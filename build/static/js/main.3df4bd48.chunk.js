(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[0],{35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c(1),i=c.n(s),n=c(20),r=c.n(n),l=c(9),d=c(2),o=function(){return Object(a.jsx)("header",{children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"inner-content",children:[Object(a.jsx)("div",{className:"brand",children:Object(a.jsx)(l.b,{to:"/",children:"Home"})}),Object(a.jsxs)("ul",{className:"nav-links",children:[Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{to:"/watch-list",children:"Watch List"})}),Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{to:"/favorites",children:"Favorites"})})]})]})})})},j=c(12),h=c(14),b=c(7),O=function(e,t){switch(t.type){case"ADD_MOVIE_TO_WATCHLIST":return Object(b.a)(Object(b.a)({},e),{},{watchlist:[t.payload].concat(Object(h.a)(e.watchlist))});case"REMOVE_MOVIE_FROM_WATCHLIST":return Object(b.a)(Object(b.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload}))});case"ADD_MOVIE_TO_WATCHED":return Object(b.a)(Object(b.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload.id})),watched:[t.payload].concat(Object(h.a)(e.watched))});case"MOVE_TO_WATCHLIST":return Object(b.a)(Object(b.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload.id})),watchlist:[t.payload].concat(Object(h.a)(e.watchlist))});case"REMOVE_FROM_WATCHED":return Object(b.a)(Object(b.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload}))});default:return e}},u={watchlist:localStorage.getItem("watchlist")?JSON.parse(localStorage.getItem("watchlist")):[],watched:localStorage.getItem("watched")?JSON.parse(localStorage.getItem("watched")):[]},m=Object(s.createContext)(u),v=function(e){var t=Object(s.useReducer)(O,u),c=Object(j.a)(t,2),i=c[0],n=c[1];Object(s.useEffect)((function(){localStorage.setItem("watchlist",JSON.stringify(i.watchlist)),localStorage.setItem("watched",JSON.stringify(i.watched))}),[i]);return Object(a.jsx)(m.Provider,{value:{watchlist:i.watchlist,watched:i.watched,addMovieToWatchlist:function(e){n({type:"ADD_MOVIE_TO_WATCHLIST",payload:e})},removeMovieFromWatchlist:function(e){n({type:"REMOVE_MOVIE_FROM_WATCHLIST",payload:e})},addMovieToWatched:function(e){n({type:"ADD_MOVIE_TO_WATCHED",payload:e})},moveToWatchlist:function(e){n({type:"MOVE_TO_WATCHLIST",payload:e})},removeFromWatched:function(e){n({type:"REMOVE_FROM_WATCHED",payload:e})}},children:e.children})},x=function(e){var t=e.movie,c=e.type,i=Object(s.useContext)(m),n=i.removeMovieFromWatchlist,r=i.addMovieToWatched,l=i.moveToWatchlist,d=i.removeFromWatched;return Object(a.jsxs)("div",{className:"inner-card-controls",children:["watchlist"===c&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{className:"ctrl-btn",onClick:function(){return r(t)},children:Object(a.jsx)("i",{class:"fas fa-heart"})}),Object(a.jsx)("button",{className:"ctrl-btn",onClick:function(){return n(t.id)},children:Object(a.jsx)("i",{className:"fa-fw fa fa-times"})})]}),"watched"===c&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{className:"ctrl-btn",onClick:function(){return l(t)},children:Object(a.jsx)("i",{class:"fas fa-heart-broken"})}),Object(a.jsx)("button",{className:"ctrl-btn",onClick:function(){return d(t.id)},children:Object(a.jsx)("i",{className:"fa-fw fa fa-times"})})]})]})},f=function(e){var t=e.movie,c=e.type;return Object(a.jsxs)("div",{className:"movie-card",children:[Object(a.jsx)("div",{className:"overlay"}),t.poster_path?Object(a.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):Object(a.jsx)("div",{className:"filler-poster",children:" "}),Object(a.jsx)(x,{type:c,movie:t})]})},p=function(){var e=Object(s.useContext)(m).watchlist;return Object(a.jsx)("div",{className:"movie-page",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"header",children:Object(a.jsx)("h1",{className:"heading",children:"My Watchlist"})}),e.length>0?Object(a.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(a.jsx)(f,{movie:e,type:"watchlist"},e.id)}))}):Object(a.jsx)("h2",{className:"no-movies",children:"No movies in your list! Add some!"})]})})},N=function(){var e=Object(s.useContext)(m).watched;return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"movie-page",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"header",children:Object(a.jsx)("h1",{className:"heading",children:"Favorite Movies"})}),e.length>0?Object(a.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(a.jsx)(f,{movie:e,type:"watched"},e.id)}))}):Object(a.jsx)("h2",{className:"no-movies",children:"No Watched Yet!"})]})})})},w=c(22),g=c.n(w),_=function(e){var t=e.movie,c=Object(s.useContext)(m),i=c.addMovieToWatchlist,n=c.addMovieToWatched,r=c.watchlist,l=c.watched,d=r.find((function(e){return e.id===t.id})),o=l.find((function(e){return e.id===t.id})),j=!!d||!!o,h=!!o;return Object(a.jsxs)("div",{className:"result-card",children:[Object(a.jsx)("div",{className:"poster-wrapper",children:t.poster_path?Object(a.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):Object(a.jsx)("div",{className:"filler-poster"})}),Object(a.jsxs)("div",{className:"info",children:[Object(a.jsx)("div",{className:"header",children:Object(a.jsx)("h3",{className:"title",children:t.title})}),Object(a.jsx)("h4",{className:"release-date",children:Object(a.jsx)(g.a,{format:"YYYY",children:t.release_date})}),Object(a.jsx)("div",{className:"overview",children:Object(a.jsx)("p",{children:t.overview})}),Object(a.jsxs)("div",{className:"controls",children:[Object(a.jsx)("button",{className:"btn",disabled:j,onClick:function(){return i(t)},children:"Add to Watchlist"}),Object(a.jsx)("button",{className:"btn",disabled:h,onClick:function(){return n(t)},children:"Add to Watched"})]})]})]})},y=function(){var e=Object(s.useState)(""),t=Object(j.a)(e,2),c=t[0],i=t[1],n=Object(s.useState)([]),r=Object(j.a)(n,2),l=r[0],d=r[1];return Object(a.jsxs)("div",{className:"add-page",children:[Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)("img",{className:"home-image",src:"Screen Shot 2020-12-20 at 6.39.49 PM.png",alt:"movies-icon"}),Object(a.jsx)("h1",{className:"heading",children:"Search for a Movie!"})]}),Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"add-content",children:[Object(a.jsx)("div",{className:"input-wrapper",children:Object(a.jsx)("input",{type:"text",value:c,onChange:function(e){e.preventDefault(),i(e.target.value),fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("09a5d8d10404483ea5145ac9c81b9442","&language=en-US&page=1&include_adult=false&query=").concat(e.target.value)).then((function(e){return e.json()})).then((function(e){e.errors?d([]):d(e.results)}))}})}),l.length>0&&Object(a.jsx)("ul",{className:"results",children:l.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(_,{movie:e})},e.id)}))})]})})]})};c(35),c(36);var T=function(){return Object(a.jsx)(v,{children:Object(a.jsxs)(l.a,{children:[Object(a.jsx)(o,{}),Object(a.jsxs)(d.c,{children:[Object(a.jsx)(d.a,{exact:!0,path:"/watch-list",children:Object(a.jsx)(p,{})}),Object(a.jsx)(d.a,{exact:!0,path:"/favorites",children:Object(a.jsx)(N,{})}),Object(a.jsx)(d.a,{exact:!0,path:"/",children:Object(a.jsx)(y,{})})]})]})})},M=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,38)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,n=t.getTTFB;c(e),a(e),s(e),i(e),n(e)}))};r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(T,{})}),document.getElementById("root")),M()}},[[37,1,2]]]);
//# sourceMappingURL=main.3df4bd48.chunk.js.map